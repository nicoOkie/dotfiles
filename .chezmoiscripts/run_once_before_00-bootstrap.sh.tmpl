#!/bin/bash
set -euo pipefail

echo "ðŸŽ© Setting up Fedora..."

# Configure dnf for speed and convenience
echo "âš™ï¸  Configuring dnf..."
sudo tee /etc/dnf/dnf.conf > /dev/null <<EOF
[main]
gpgcheck=True
installonly_limit=3
clean_requirements_on_remove=True
best=False
skip_if_unavailable=True
assumeyes=True
max_parallel_downloads=10
fastestmirror=True
EOF

# System update
echo "ðŸ”„ Updating system..."
sudo dnf upgrade --refresh

# Zsh
echo "ðŸš Installing zsh..."
sudo dnf install zsh

# Set zsh as default shell
if [[ "$SHELL" != *"zsh"* ]]; then
  echo "ðŸ”§ Setting zsh as default shell..."
  chsh -s "$(which zsh)"
fi

echo "âœ… Done!"